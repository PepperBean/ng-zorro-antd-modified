{"version":3,"file":"ng-zorro-antd-statistic.js.map","sources":["ng://ng-zorro-antd/statistic/nz-statistic-definitions.ts","ng://ng-zorro-antd/statistic/nz-statistic.component.ts","ng://ng-zorro-antd/statistic/nz-countdown.component.ts","ng://ng-zorro-antd/statistic/nz-statistic-number.component.ts","ng://ng-zorro-antd/statistic/nz-time-range.pipe.ts","ng://ng-zorro-antd/statistic/nz-statistic.module.ts"],"sourcesContent":["/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nexport type NzStatisticValueType = number | string;\r\n\r\nexport const REFRESH_INTERVAL = 1000 / 30;\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ChangeDetectionStrategy, Component, Input, TemplateRef, ViewEncapsulation } from '@angular/core';\r\nimport { NzStatisticValueType } from './nz-statistic-definitions';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'nz-statistic',\r\n  exportAs: 'nzStatistic',\r\n  templateUrl: './nz-statistic.component.html',\r\n  host: {\r\n    class: 'ant-statistic'\r\n  },\r\n  styles: ['nz-statistic { display: block; }']\r\n})\r\nexport class NzStatisticComponent {\r\n  @Input() nzPrefix: string | TemplateRef<void>;\r\n  @Input() nzSuffix: string | TemplateRef<void>;\r\n  @Input() nzTitle: string | TemplateRef<void>;\r\n  @Input() nzValue: NzStatisticValueType;\r\n  @Input() nzValueStyle = {};\r\n  @Input() nzValueTemplate: TemplateRef<{ $implicit: NzStatisticValueType }>;\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Input,\r\n  NgZone,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  SimpleChanges,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { interval, Subscription } from 'rxjs';\r\n\r\nimport { REFRESH_INTERVAL } from './nz-statistic-definitions';\r\nimport { NzStatisticComponent } from './nz-statistic.component';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'nz-countdown',\r\n  exportAs: 'nzCountdown',\r\n  templateUrl: './nz-countdown.component.html'\r\n})\r\nexport class NzCountdownComponent extends NzStatisticComponent implements OnInit, OnChanges, OnDestroy {\r\n  /** @override */\r\n  @Input() nzFormat: string = 'HH:mm:ss';\r\n\r\n  diff: number;\r\n\r\n  private target: number;\r\n  private updater_: Subscription | null;\r\n\r\n  constructor(private cdr: ChangeDetectorRef, private ngZone: NgZone, private platform: Platform) {\r\n    super();\r\n  }\r\n\r\n  /** @override */\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzValue) {\r\n      this.target = Number(changes.nzValue.currentValue);\r\n      if (!changes.nzValue.isFirstChange()) {\r\n        this.syncTimer();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.syncTimer();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.stopTimer();\r\n  }\r\n\r\n  syncTimer(): void {\r\n    if (this.target >= Date.now()) {\r\n      this.startTimer();\r\n    } else {\r\n      this.stopTimer();\r\n    }\r\n  }\r\n\r\n  startTimer(): void {\r\n    if (this.platform.isBrowser) {\r\n      this.ngZone.runOutsideAngular(() => {\r\n        this.stopTimer();\r\n        this.updater_ = interval(REFRESH_INTERVAL).subscribe(() => {\r\n          this.updateValue();\r\n          this.cdr.detectChanges();\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  stopTimer(): void {\r\n    if (this.updater_) {\r\n      this.updater_.unsubscribe();\r\n      this.updater_ = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update time that should be displayed on the screen.\r\n   */\r\n  protected updateValue(): void {\r\n    this.diff = Math.max(this.target - Date.now(), 0);\r\n\r\n    if (this.diff === 0) {\r\n      this.stopTimer();\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { getLocaleNumberSymbol, NumberSymbol } from '@angular/common';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  Inject,\r\n  Input,\r\n  LOCALE_ID,\r\n  OnChanges,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { NzStatisticValueType } from './nz-statistic-definitions';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  selector: 'nz-statistic-number',\r\n  exportAs: 'nzStatisticNumber',\r\n  templateUrl: './nz-statistic-number.component.html',\r\n  host: {\r\n    class: 'ant-statistic-content-value'\r\n  },\r\n  styles: ['nz-number { display: inline }']\r\n})\r\nexport class NzStatisticNumberComponent implements OnChanges {\r\n  @Input() nzValue: NzStatisticValueType;\r\n  @Input() nzValueTemplate: TemplateRef<{ $implicit: NzStatisticValueType }>;\r\n\r\n  displayInt = '';\r\n  displayDecimal = '';\r\n\r\n  constructor(@Inject(LOCALE_ID) private locale_id: string) {}\r\n\r\n  ngOnChanges(): void {\r\n    this.formatNumber();\r\n  }\r\n\r\n  private formatNumber(): void {\r\n    const decimalSeparator: string =\r\n      typeof this.nzValue === 'number' ? '.' : getLocaleNumberSymbol(this.locale_id, NumberSymbol.Decimal);\r\n    const value = String(this.nzValue);\r\n    const [int, decimal] = value.split(decimalSeparator);\r\n\r\n    this.displayInt = int;\r\n    this.displayDecimal = decimal ? `${decimalSeparator}${decimal}` : '';\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\nimport { padStart, timeUnits } from 'ng-zorro-antd/core';\r\n\r\n@Pipe({\r\n  name: 'nzTimeRange',\r\n  pure: true\r\n})\r\nexport class NzTimeRangePipe implements PipeTransform {\r\n  transform(value: string | number, format: string = 'HH:mm:ss'): string {\r\n    let duration = Number(value || 0);\r\n\r\n    return timeUnits.reduce((current, [name, unit]) => {\r\n      if (current.indexOf(name) !== -1) {\r\n        const v = Math.floor(duration / unit);\r\n        duration -= v * unit;\r\n        return current.replace(new RegExp(`${name}+`, 'g'), (match: string) => {\r\n          return padStart(v.toString(), match.length, '0');\r\n        });\r\n      }\r\n      return current;\r\n    }, format);\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { NzAddOnModule } from 'ng-zorro-antd/core';\r\nimport { NzCountdownComponent } from './nz-countdown.component';\r\nimport { NzStatisticNumberComponent } from './nz-statistic-number.component';\r\nimport { NzStatisticComponent } from './nz-statistic.component';\r\nimport { NzTimeRangePipe } from './nz-time-range.pipe';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, NzAddOnModule],\r\n  declarations: [NzStatisticComponent, NzCountdownComponent, NzStatisticNumberComponent, NzTimeRangePipe],\r\n  exports: [NzStatisticComponent, NzCountdownComponent, NzStatisticNumberComponent, NzTimeRangePipe]\r\n})\r\nexport class NzStatisticModule {}\r\n"],"names":["tslib_1.__extends"],"mappings":"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"}
