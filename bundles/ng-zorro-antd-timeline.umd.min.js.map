{"version":3,"sources":["ng://ng-zorro-antd/timeline/nz-timeline-item.component.ts","ng://ng-zorro-antd/timeline/nz-timeline.component.ts","ng://ng-zorro-antd/timeline/nz-timeline.module.ts"],"names":["NzTimelineItemComponent","prototype","ngOnInit","this","tryUpdateCustomColor","ngOnChanges","changes","nzColor","detectChanges","cdr","circle","liTemplate","nativeElement","querySelector","indexOf","renderer","setStyle","removeStyle","Component","args","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","preserveWhitespaces","selector","exportAs","template","Renderer2","ChangeDetectorRef","ViewChild","Input","isLast","NzTimelineComponent","modeChanges","nzMode","reverseChanges","nzReverse","pendingChanges","nzPending","previousValue","currentValue","isFirstChange","updateChildren","reverseChildTimelineDots","isPendingBoolean","ngAfterContentInit","_this","listOfTimeLine","pipe","takeUntil","destroy$","subscribe","ngOnDestroy","next","complete","length","length_1","toArray","forEach","item","index","position","undefined","markForCheck","platform","isBrowser","reverseChildNodes","timeline","Platform","ContentChildren","ContentChild","Subject","NgModule","declarations","exports","imports","CommonModule","NzIconModule","NzAddOnModule","NzTimelineModule"],"mappings":"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","sourcesContent":["/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { NzTimelineMode } from './nz-timeline.component';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  selector: 'nz-timeline-item, [nz-timeline-item]',\r\n  exportAs: 'nzTimelineItem',\r\n  templateUrl: './nz-timeline-item.component.html'\r\n})\r\nexport class NzTimelineItemComponent implements OnInit, OnChanges {\r\n  @ViewChild('liTemplate') liTemplate: ElementRef;\r\n  @Input() nzColor: string = 'blue';\r\n  @Input() nzDot: string | TemplateRef<void>;\r\n\r\n  isLast = false;\r\n  position: NzTimelineMode | undefined;\r\n\r\n  constructor(private renderer: Renderer2, private cdr: ChangeDetectorRef) {}\r\n\r\n  ngOnInit(): void {\r\n    this.tryUpdateCustomColor();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzColor) {\r\n      this.tryUpdateCustomColor();\r\n    }\r\n  }\r\n\r\n  detectChanges(): void {\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  private tryUpdateCustomColor(): void {\r\n    const defaultColors = ['blue', 'red', 'green'];\r\n    const circle = this.liTemplate.nativeElement.querySelector('.ant-timeline-item-head');\r\n    if (defaultColors.indexOf(this.nzColor) === -1) {\r\n      this.renderer.setStyle(circle, 'border-color', this.nzColor);\r\n    } else {\r\n      this.renderer.removeStyle(circle, 'border-color');\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ContentChildren,\r\n  ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  QueryList,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { reverseChildNodes } from 'ng-zorro-antd/core';\r\n\r\nimport { NzTimelineItemComponent } from './nz-timeline-item.component';\r\n\r\nexport type NzTimelineMode = 'left' | 'alternate' | 'right';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  selector: 'nz-timeline',\r\n  exportAs: 'nzTimeline',\r\n  templateUrl: './nz-timeline.component.html'\r\n})\r\nexport class NzTimelineComponent implements AfterContentInit, OnChanges, OnDestroy {\r\n  @ViewChild('timeline') timeline: ElementRef<HTMLElement>;\r\n  @ContentChildren(NzTimelineItemComponent) listOfTimeLine: QueryList<NzTimelineItemComponent>;\r\n  @ContentChild('pending') _pendingContent: TemplateRef<void>;\r\n\r\n  @Input() nzMode: NzTimelineMode;\r\n  @Input() nzPending: string | boolean | TemplateRef<void>;\r\n  @Input() nzPendingDot: string | TemplateRef<void>;\r\n  @Input() nzReverse: boolean = false;\r\n\r\n  isPendingBoolean: boolean = false;\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(private cdr: ChangeDetectorRef, private platform: Platform) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const modeChanges = changes.nzMode;\r\n    const reverseChanges = changes.nzReverse;\r\n    const pendingChanges = changes.nzPending;\r\n\r\n    if (modeChanges && (modeChanges.previousValue !== modeChanges.currentValue || modeChanges.isFirstChange())) {\r\n      this.updateChildren();\r\n    }\r\n    if (\r\n      reverseChanges &&\r\n      reverseChanges.previousValue !== reverseChanges.currentValue &&\r\n      !reverseChanges.isFirstChange()\r\n    ) {\r\n      this.reverseChildTimelineDots();\r\n    }\r\n    if (pendingChanges) {\r\n      this.isPendingBoolean = pendingChanges.currentValue === true;\r\n    }\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.updateChildren();\r\n    if (this.listOfTimeLine) {\r\n      this.listOfTimeLine.changes.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n        this.updateChildren();\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  private updateChildren(): void {\r\n    if (this.listOfTimeLine && this.listOfTimeLine.length) {\r\n      const length = this.listOfTimeLine.length;\r\n      this.listOfTimeLine.toArray().forEach((item, index) => {\r\n        item.isLast = !this.nzReverse ? index === length - 1 : index === 0;\r\n        item.position =\r\n          this.nzMode === 'left' || !this.nzMode\r\n            ? undefined\r\n            : this.nzMode === 'right'\r\n            ? 'right'\r\n            : this.nzMode === 'alternate' && index % 2 === 0\r\n            ? 'left'\r\n            : 'right';\r\n        item.detectChanges();\r\n      });\r\n      this.cdr.markForCheck();\r\n    }\r\n  }\r\n\r\n  private reverseChildTimelineDots(): void {\r\n    if (this.platform.isBrowser) {\r\n      reverseChildNodes(this.timeline.nativeElement as HTMLElement);\r\n      this.updateChildren();\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { NzAddOnModule } from 'ng-zorro-antd/core';\r\nimport { NzIconModule } from 'ng-zorro-antd/icon';\r\n\r\nimport { NzTimelineItemComponent } from './nz-timeline-item.component';\r\nimport { NzTimelineComponent } from './nz-timeline.component';\r\n\r\n@NgModule({\r\n  declarations: [NzTimelineItemComponent, NzTimelineComponent],\r\n  exports: [NzTimelineItemComponent, NzTimelineComponent],\r\n  imports: [CommonModule, NzIconModule, NzAddOnModule]\r\n})\r\nexport class NzTimelineModule {}\r\n"]}