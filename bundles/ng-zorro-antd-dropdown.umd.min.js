!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/cdk/portal"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/overlay"),require("@angular/common"),require("@angular/forms"),require("ng-zorro-antd/button"),require("ng-zorro-antd/core"),require("ng-zorro-antd/icon"),require("ng-zorro-antd/menu"),require("@angular/core")):"function"==typeof define&&define.amd?define("ng-zorro-antd/dropdown",["exports","@angular/cdk/portal","rxjs","rxjs/operators","@angular/cdk/overlay","@angular/common","@angular/forms","ng-zorro-antd/button","ng-zorro-antd/core","ng-zorro-antd/icon","ng-zorro-antd/menu","@angular/core"],n):n((e["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].dropdown={}),e.ng.cdk.portal,e.rxjs,e.rxjs.operators,e.ng.cdk.overlay,e.ng.common,e.ng.forms,e["ng-zorro-antd"].button,e["ng-zorro-antd"].core,e["ng-zorro-antd"].icon,e["ng-zorro-antd"].menu,e.ng.core)}(this,function(e,i,a,s,p,n,t,o,r,l,c,d){"use strict";var u=function(e,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)};function h(e,n){function t(){this.constructor=e}u(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}function y(e,n,t,o){var r,i=arguments.length,a=i<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,o);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(a=(i<3?r(a):3<i?r(n,t,a):r(n,t))||a);return 3<i&&a&&Object.defineProperty(n,t,a),a}function g(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}function v(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var o,r,i=t.call(e),a=[];try{for(;(void 0===n||0<n--)&&!(o=i.next()).done;)a.push(o.value)}catch(s){r={error:s}}finally{try{o&&!o.done&&(t=i["return"])&&t.call(i)}finally{if(r)throw r.error}}return a}function m(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(v(arguments[n]));return e}var z,f=(h(b,z=r.NzMenuBaseService),b.decorators=[{type:d.Injectable}],b);function b(){var e=null!==z&&z.apply(this,arguments)||this;return e.isInDropDown=!0,e}var D=(w.prototype.init=function(e,n,t,o){var r=this;this.open=e,this.templateRef=n,this.control=o,t.pipe(s.takeUntil(this.destroy$)).subscribe(function(e){r.dropDownPosition="bottom"===e.connectionPair.overlayY?"top":"bottom",r.cdr.markForCheck()})},w.prototype.close=function(){this.open=!1,this.cdr.markForCheck()},w.prototype.afterAnimation=function(){this.open||this.control.dispose()},w.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},w.decorators=[{type:d.Component,args:[{selector:"nz-dropdown-context",exportAs:"nzDropdownContext",animations:[r.slideMotion],preserveWhitespaces:!1,template:'<div *ngIf="open"\r\n  class="ant-dropdown ant-dropdown-placement-bottomLeft"\r\n  [@slideMotion]="dropDownPosition"\r\n  (@slideMotion.done)="afterAnimation()">\r\n  <ng-template [ngTemplateOutlet]="templateRef"></ng-template>\r\n</div>',encapsulation:d.ViewEncapsulation.None,changeDetection:d.ChangeDetectionStrategy.OnPush,providers:[f],styles:["\n      nz-dropdown-context {\n        display: block;\n      }\n\n      .ant-dropdown {\n        top: 100%;\n        left: 0;\n        position: relative;\n        width: 100%;\n        margin-top: 4px;\n        margin-bottom: 4px;\n      }\n    "]}]}],w.ctorParameters=function(){return[{type:d.ChangeDetectorRef}]},w);function w(e){this.cdr=e,this.open=!0,this.dropDownPosition="bottom",this.destroy$=new a.Subject}var C=(O.prototype.setDisabled=function(e){e?this.renderer.setAttribute(this.el,"disabled",""):this.renderer.removeAttribute(this.el,"disabled")},O.decorators=[{type:d.Directive,args:[{selector:"[nz-dropdown]",exportAs:"nzDropdown"}]}],O.ctorParameters=function(){return[{type:d.ElementRef},{type:d.Renderer2}]},O);function O(e,n){this.elementRef=e,this.renderer=n,this.el=this.elementRef.nativeElement,this.hover$=a.merge(a.fromEvent(this.el,"mouseenter").pipe(s.mapTo(!0)),a.fromEvent(this.el,"mouseleave").pipe(s.mapTo(!1))),this.$click=a.fromEvent(this.el,"click").pipe(s.tap(function(e){return e.stopPropagation()}),s.mapTo(!0)),n.addClass(e.nativeElement,"ant-dropdown-trigger")}function k(e){return e.get(f)}var S=(P.prototype.setVisibleStateWhen=function(e,n){void 0===n&&(n="all"),this.nzTrigger!==n&&"all"!==n||this.visible$.next(e)},P.prototype.onPositionChange=function(e){this.dropDownPosition=e.connectionPair.originY,this.cdr.markForCheck()},P.prototype.startSubscribe=function(e){var n=this,t=this.nzClickHide?this.nzMenuDropdownService.menuItemClick$.pipe(s.mapTo(!1)):a.EMPTY;a.combineLatest(a.merge(e,t),this.nzMenuDropdownService.menuOpen$).pipe(s.map(function(e){return e[0]||e[1]}),s.debounceTime(50),s.distinctUntilChanged(),s.takeUntil(this.destroy$)).subscribe(function(e){n.nzDisabled||n.nzVisible===e||(n.nzVisible=e,n.nzVisibleChange.emit(n.nzVisible),n.triggerWidth=n.nzDropDownDirective.elementRef.nativeElement.getBoundingClientRect().width,n.cdr.markForCheck())})},P.prototype.updateDisabledState=function(){this.nzDropDownDirective&&this.nzDropDownDirective.setDisabled(this.nzDisabled)},P.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},P.prototype.ngAfterContentInit=function(){this.startSubscribe(a.merge(this.visible$,"hover"===this.nzTrigger?this.nzDropDownDirective.hover$:this.nzDropDownDirective.$click)),this.updateDisabledState()},P.prototype.ngOnChanges=function(e){e.nzVisible&&this.visible$.next(this.nzVisible),e.nzDisabled&&this.updateDisabledState(),e.nzPlacement&&(this.dropDownPosition=-1!==this.nzPlacement.indexOf("top")?"top":"bottom",this.positions=m([r.POSITION_MAP[this.nzPlacement]],this.positions))},P.decorators=[{type:d.Component,args:[{selector:"nz-dropdown",exportAs:"nzDropdown",preserveWhitespaces:!1,providers:[f,{provide:r.NzDropdownHigherOrderServiceToken,useFactory:k,deps:[[new d.Self,d.Injector]]}],animations:[r.slideMotion],encapsulation:d.ViewEncapsulation.None,changeDetection:d.ChangeDetectionStrategy.OnPush,template:'<ng-content select="[nz-dropdown]"></ng-content>\r\n<ng-template\r\n  cdkConnectedOverlay\r\n  nzConnectedOverlay\r\n  [cdkConnectedOverlayHasBackdrop]="nzTrigger === \'click\'"\r\n  [cdkConnectedOverlayPositions]="positions"\r\n  [cdkConnectedOverlayOrigin]="nzDropDownDirective"\r\n  [cdkConnectedOverlayMinWidth]="triggerWidth"\r\n  [cdkConnectedOverlayOpen]="nzVisible"\r\n  (backdropClick)="setVisibleStateWhen(false)"\r\n  (detach)="setVisibleStateWhen(false)"\r\n  (positionChange)="onPositionChange($event)">\r\n  <div class="{{\'ant-dropdown ant-dropdown-placement-\'+nzPlacement}}"\r\n    [ngClass]="nzOverlayClassName"\r\n    [ngStyle]="nzOverlayStyle"\r\n    [@slideMotion]="dropDownPosition"\r\n    [nzNoAnimation]="noAnimation?.nzNoAnimation"\r\n    [style.minWidth.px]="triggerWidth"\r\n    (mouseenter)="setVisibleStateWhen(true,\'hover\')"\r\n    (mouseleave)="setVisibleStateWhen(false,\'hover\')">\r\n    <div [class.ant-table-filter-dropdown]="nzTableFilter">\r\n      <ng-content select="[nz-menu]"></ng-content>\r\n      <ng-content></ng-content>\r\n    </div>\r\n  </div>\r\n</ng-template>',styles:["\n      .ant-dropdown {\n        top: 100%;\n        left: 0;\n        position: relative;\n        width: 100%;\n        margin-top: 4px;\n        margin-bottom: 4px;\n      }\n    "]}]}],P.ctorParameters=function(){return[{type:d.ChangeDetectorRef},{type:f},{type:r.NzNoAnimationDirective,decorators:[{type:d.Host},{type:d.Optional}]}]},P.propDecorators={nzDropDownDirective:[{type:d.ContentChild,args:[C]}],nzMenuDirective:[{type:d.ContentChild,args:[c.NzMenuDirective]}],cdkConnectedOverlay:[{type:d.ViewChild,args:[p.CdkConnectedOverlay]}],nzTrigger:[{type:d.Input}],nzOverlayClassName:[{type:d.Input}],nzOverlayStyle:[{type:d.Input}],nzPlacement:[{type:d.Input}],nzClickHide:[{type:d.Input}],nzDisabled:[{type:d.Input}],nzVisible:[{type:d.Input}],nzTableFilter:[{type:d.Input}],nzVisibleChange:[{type:d.Output}]},y([r.InputBoolean(),g("design:type",Object)],P.prototype,"nzClickHide",void 0),y([r.InputBoolean(),g("design:type",Object)],P.prototype,"nzDisabled",void 0),y([r.InputBoolean(),g("design:type",Object)],P.prototype,"nzVisible",void 0),y([r.InputBoolean(),g("design:type",Object)],P.prototype,"nzTableFilter",void 0),P);function P(e,n,t){this.cdr=e,this.nzMenuDropdownService=n,this.noAnimation=t,this.triggerWidth=0,this.dropDownPosition="bottom",this.positions=m(r.DEFAULT_DROPDOWN_POSITIONS),this.visible$=new a.Subject,this.destroy$=new a.Subject,this.nzTrigger="hover",this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzTableFilter=!1,this.nzVisibleChange=new d.EventEmitter}var N=(x.prototype.create=function(e,n){var t=this;e.preventDefault(),this.dispose(),this.overlayRef=this.overlay.create(new p.OverlayConfig({scrollStrategy:this.overlay.scrollStrategies.close(),panelClass:"nz-dropdown-panel",positionStrategy:this.overlay.position().flexibleConnectedTo({x:e.x,y:e.y}).withPositions([new p.ConnectionPositionPair({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new p.ConnectionPositionPair({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new p.ConnectionPositionPair({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new p.ConnectionPositionPair({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})])}));var o=this.overlayRef.getConfig().positionStrategy.positionChanges,r=this.overlayRef.attach(new i.ComponentPortal(D)).instance;return a.fromEvent(document,"click").pipe(s.filter(function(e){return!!t.overlayRef&&!t.overlayRef.overlayElement.contains(e.target)}),s.take(1)).subscribe(function(){return r.close()}),r.init(!0,n,o,this),r},x.prototype.dispose=function(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)},x.decorators=[{type:d.Injectable}],x.ctorParameters=function(){return[{type:p.Overlay}]},x);function x(e){this.overlay=e}var I,M=k,R=(h(T,I=S),T.prototype.ngAfterContentInit=function(){this.startSubscribe(this.visible$)},T.decorators=[{type:d.Component,args:[{selector:"nz-dropdown-button",exportAs:"nzDropdownButton",preserveWhitespaces:!1,animations:[r.slideMotion],encapsulation:d.ViewEncapsulation.None,changeDetection:d.ChangeDetectionStrategy.OnPush,providers:[f,{provide:r.NzDropdownHigherOrderServiceToken,useFactory:M,deps:[[new d.Self,d.Injector]]}],template:'<div class="ant-btn-group ant-dropdown-button" nz-dropdown>\r\n  <button nz-button\r\n    type="button"\r\n    [disabled]="nzDisabled"\r\n    [nzType]="nzType"\r\n    [nzSize]="nzSize"\r\n    (click)="nzClick.emit($event)">\r\n    <span><ng-content></ng-content></span>\r\n  </button>\r\n  <button nz-button\r\n    type="button"\r\n    class="ant-dropdown-trigger"\r\n    [nzType]="nzType"\r\n    [nzSize]="nzSize"\r\n    [disabled]="nzDisabled"\r\n    (click)="setVisibleStateWhen(true,\'click\')"\r\n    (mouseenter)="setVisibleStateWhen(true,\'hover\')"\r\n    (mouseleave)="setVisibleStateWhen(false,\'hover\')">\r\n    <ng-container *nzStringTemplateOutlet="nzIcon"><i nz-icon [type]="nzIcon"></i></ng-container>\r\n  </button>\r\n</div>\r\n<ng-template\r\n  cdkConnectedOverlay\r\n  nzConnectedOverlay\r\n  [cdkConnectedOverlayHasBackdrop]="nzTrigger === \'click\'"\r\n  [cdkConnectedOverlayPositions]="positions"\r\n  [cdkConnectedOverlayOrigin]="nzDropDownDirective"\r\n  (backdropClick)="setVisibleStateWhen(false)"\r\n  (detach)="setVisibleStateWhen(false)"\r\n  [cdkConnectedOverlayMinWidth]="triggerWidth"\r\n  (positionChange)="onPositionChange($event)"\r\n  [cdkConnectedOverlayOpen]="nzVisible">\r\n  <div class="{{\'ant-dropdown ant-dropdown-placement-\'+nzPlacement}}"\r\n    [nzNoAnimation]="noAnimation?.nzNoAnimation"\r\n    [@slideMotion]="dropDownPosition"\r\n    (mouseenter)="setVisibleStateWhen(true,\'hover\')"\r\n    (mouseleave)="setVisibleStateWhen(false,\'hover\')"\r\n    [style.minWidth.px]="triggerWidth">\r\n    <ng-content select="[nz-menu]"></ng-content>\r\n  </div>\r\n</ng-template>',styles:["\n      nz-dropdown-button {\n        position: relative;\n        display: inline-block;\n      }\n\n      .ant-dropdown {\n        top: 100%;\n        left: 0;\n        position: relative;\n        width: 100%;\n        margin-top: 4px;\n        margin-bottom: 4px;\n      }\n    "]}]}],T.ctorParameters=function(){return[{type:d.ChangeDetectorRef},{type:f},{type:r.NzNoAnimationDirective,decorators:[{type:d.Host},{type:d.Optional}]}]},T.propDecorators={nzSize:[{type:d.Input}],nzType:[{type:d.Input}],nzIcon:[{type:d.Input}],nzClick:[{type:d.Output}],nzDropDownDirective:[{type:d.ViewChild,args:[C]}]},T);function T(e,n,t){var o=I.call(this,e,n,t)||this;return o.noAnimation=t,o.nzSize="default",o.nzType="default",o.nzIcon="ellipsis",o.nzClick=new d.EventEmitter,o}var V=(A.decorators=[{type:d.Directive,args:[{selector:"a[nz-dropdown]"}]}],A.ctorParameters=function(){return[{type:d.ElementRef},{type:d.Renderer2}]},A);function A(e,n){this.elementRef=e,this.renderer=n,this.renderer.addClass(this.elementRef.nativeElement,"ant-dropdown-link")}var W=(j.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,p.OverlayModule,t.FormsModule,o.NzButtonModule,c.NzMenuModule,l.NzIconModule,r.NzNoAnimationModule,r.NzOverlayModule,r.NzAddOnModule],entryComponents:[D],declarations:[S,R,C,V,D],exports:[c.NzMenuModule,S,R,C,V],providers:[N]}]}],j);function j(){}e.NzDropdownContextComponent=D,e.menuServiceFactory=k,e.NzDropDownComponent=S,e.NzDropDownDirective=C,e.NzDropdownService=N,e.NzDropDownButtonComponent=R,e.NzDropDownModule=W,e.NzMenuDropdownService=f,e.NzDropDownADirective=V,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-zorro-antd-dropdown.umd.min.js.map