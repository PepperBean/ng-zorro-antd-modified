{"version":3,"sources":["ng://ng-zorro-antd/steps/nz-step.component.ts","ng://ng-zorro-antd/steps/nz-steps.component.ts","ng://ng-zorro-antd/steps/nz-steps.module.ts"],"names":["Object","defineProperty","NzStepComponent","prototype","this","_status","status","isCustomStatus","_icon","value","TemplateRef","isIconString","oldAPIIcon","indexOf","_currentIndex","current","index","outStatus","markForCheck","cdr","Component","args","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","selector","exportAs","preserveWhitespaces","template","host","[class.ant-steps-item-wait]","[class.ant-steps-item-process]","[class.ant-steps-item-finish]","[class.ant-steps-item-error]","[class.ant-steps-custom]","[class.ant-steps-next-error]","ChangeDetectorRef","Renderer2","ElementRef","ViewChild","Input","renderer","elementRef","direction","last","showProcessDot","addClass","nativeElement","NzStepsComponent","customProcessDotTemplate","toBoolean","updateChildrenSteps","ngOnChanges","changes","nzStartIndex","nzDirection","nzStatus","nzCurrent","nzProgressDot","nzLabelPlacement","nzSize","setClassMap","ngOnInit","ngOnDestroy","destroy$","next","complete","ngAfterContentInit","_this","steps","pipe","takeUntil","subscribe","length_1","length","toArray","forEach","step","Promise","resolve","then","customProcessTemplate","currentIndex","classMap","_a","ContentChildren","Subject","NgModule","imports","CommonModule","NzIconModule","NzAddOnModule","exports","declarations","NzStepsModule"],"mappings":"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","sourcesContent":["/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { NgClassType } from 'ng-zorro-antd/core';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'nz-step',\r\n  exportAs: 'nzStep',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './nz-step.component.html',\r\n  host: {\r\n    '[class.ant-steps-item-wait]': 'nzStatus === \"wait\"',\r\n    '[class.ant-steps-item-process]': 'nzStatus === \"process\"',\r\n    '[class.ant-steps-item-finish]': 'nzStatus === \"finish\"',\r\n    '[class.ant-steps-item-error]': 'nzStatus === \"error\"',\r\n    '[class.ant-steps-custom]': '!!nzIcon',\r\n    '[class.ant-steps-next-error]': '(outStatus === \"error\") && (currentIndex === index + 1)'\r\n  }\r\n})\r\nexport class NzStepComponent {\r\n  @ViewChild('processDotTemplate') processDotTemplate: TemplateRef<void>;\r\n\r\n  @Input() nzTitle: string | TemplateRef<void>;\r\n  @Input() nzDescription: string | TemplateRef<void>;\r\n\r\n  @Input()\r\n  get nzStatus(): string {\r\n    return this._status;\r\n  }\r\n\r\n  set nzStatus(status: string) {\r\n    this._status = status;\r\n    this.isCustomStatus = true;\r\n  }\r\n\r\n  isCustomStatus = false;\r\n  private _status = 'wait';\r\n\r\n  @Input()\r\n  get nzIcon(): NgClassType | TemplateRef<void> {\r\n    return this._icon;\r\n  }\r\n\r\n  set nzIcon(value: NgClassType | TemplateRef<void>) {\r\n    if (!(value instanceof TemplateRef)) {\r\n      this.isIconString = true;\r\n      this.oldAPIIcon = typeof value === 'string' && value.indexOf('anticon') > -1;\r\n    } else {\r\n      this.isIconString = false;\r\n    }\r\n    this._icon = value;\r\n  }\r\n\r\n  oldAPIIcon = true;\r\n  isIconString = true;\r\n  private _icon: NgClassType | TemplateRef<void>;\r\n\r\n  customProcessTemplate: TemplateRef<{ $implicit: TemplateRef<void>; status: string; index: number }>; // Set by parent.\r\n  direction = 'horizontal';\r\n  index = 0;\r\n  last = false;\r\n  outStatus = 'process';\r\n  showProcessDot = false;\r\n\r\n  get currentIndex(): number {\r\n    return this._currentIndex;\r\n  }\r\n\r\n  set currentIndex(current: number) {\r\n    this._currentIndex = current;\r\n    if (!this.isCustomStatus) {\r\n      this._status = current > this.index ? 'finish' : current === this.index ? this.outStatus || '' : 'wait';\r\n    }\r\n  }\r\n\r\n  private _currentIndex = 0;\r\n\r\n  constructor(private cdr: ChangeDetectorRef, renderer: Renderer2, elementRef: ElementRef) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-steps-item');\r\n  }\r\n\r\n  markForCheck(): void {\r\n    this.cdr.markForCheck();\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ContentChildren,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  QueryList,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { toBoolean, NgClassType, NzSizeDSType } from 'ng-zorro-antd/core';\r\n\r\nimport { NzStepComponent } from './nz-step.component';\r\n\r\nexport type NzDirectionType = 'horizontal' | 'vertical';\r\nexport type NzStatusType = 'wait' | 'process' | 'finish' | 'error';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  selector: 'nz-steps',\r\n  exportAs: 'nzSteps',\r\n  templateUrl: './nz-steps.component.html'\r\n})\r\nexport class NzStepsComponent implements OnChanges, OnInit, OnDestroy, AfterContentInit {\r\n  @ContentChildren(NzStepComponent) steps: QueryList<NzStepComponent>;\r\n\r\n  @Input() nzCurrent = 0;\r\n  @Input() nzDirection: NzDirectionType = 'horizontal';\r\n  @Input() nzLabelPlacement: 'horizontal' | 'vertical' = 'horizontal';\r\n  @Input() nzSize: NzSizeDSType = 'default';\r\n  @Input() nzStartIndex = 0;\r\n  @Input() nzStatus: NzStatusType = 'process';\r\n\r\n  @Input()\r\n  set nzProgressDot(value: boolean | TemplateRef<{ $implicit: TemplateRef<void>; status: string; index: number }>) {\r\n    if (value instanceof TemplateRef) {\r\n      this.showProcessDot = true;\r\n      this.customProcessDotTemplate = value;\r\n    } else {\r\n      this.showProcessDot = toBoolean(value);\r\n    }\r\n    this.updateChildrenSteps();\r\n  }\r\n  showProcessDot = false;\r\n  customProcessDotTemplate: TemplateRef<{ $implicit: TemplateRef<void>; status: string; index: number }>;\r\n\r\n  classMap: NgClassType;\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzStartIndex || changes.nzDirection || changes.nzStatus || changes.nzCurrent) {\r\n      this.updateChildrenSteps();\r\n    }\r\n    if (changes.nzDirection || changes.nzProgressDot || changes.nzLabelPlacement || changes.nzSize) {\r\n      this.setClassMap();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setClassMap();\r\n    this.updateChildrenSteps();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.updateChildrenSteps();\r\n    if (this.steps) {\r\n      this.steps.changes.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n        this.updateChildrenSteps();\r\n      });\r\n    }\r\n  }\r\n\r\n  private updateChildrenSteps(): void {\r\n    if (this.steps) {\r\n      const length = this.steps.length;\r\n      this.steps.toArray().forEach((step, index) => {\r\n        Promise.resolve().then(() => {\r\n          step.outStatus = this.nzStatus;\r\n          step.showProcessDot = this.showProcessDot;\r\n          if (this.customProcessDotTemplate) {\r\n            step.customProcessTemplate = this.customProcessDotTemplate;\r\n          }\r\n          step.direction = this.nzDirection;\r\n          step.index = index + this.nzStartIndex;\r\n          step.currentIndex = this.nzCurrent;\r\n          step.last = length === index + 1;\r\n          step.markForCheck();\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  private setClassMap(): void {\r\n    this.classMap = {\r\n      [`ant-steps-${this.nzDirection}`]: true,\r\n      [`ant-steps-label-horizontal`]: this.nzDirection === 'horizontal',\r\n      [`ant-steps-label-vertical`]:\r\n        (this.showProcessDot || this.nzLabelPlacement === 'vertical') && this.nzDirection === 'horizontal',\r\n      [`ant-steps-dot`]: this.showProcessDot,\r\n      ['ant-steps-small']: this.nzSize === 'small'\r\n    };\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { NzAddOnModule } from 'ng-zorro-antd/core';\r\nimport { NzIconModule } from 'ng-zorro-antd/icon';\r\n\r\nimport { NzStepComponent } from './nz-step.component';\r\nimport { NzStepsComponent } from './nz-steps.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, NzIconModule, NzAddOnModule],\r\n  exports: [NzStepsComponent, NzStepComponent],\r\n  declarations: [NzStepsComponent, NzStepComponent]\r\n})\r\nexport class NzStepsModule {}\r\n"]}